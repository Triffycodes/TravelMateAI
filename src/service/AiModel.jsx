import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_AI_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, jeo coordinates, rating, descriptions and suggest itinerary with placeName, time, Place Details, Place Image Url, Geo Coordinates, ticket Pricing,  Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotelImageUrl\": \"https://www.thelasvegashotels.com/wp-content/uploads/2023/02/The-D-Las-Vegas.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1422° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a lively atmosphere.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70 - $150 per night\",\n      \"hotelImageUrl\": \"https://www.golden nugget.com/wp-content/uploads/2021/02/golden-nugget-las-vegas-exterior.jpg\",\n      \"geoCoordinates\": \"36.1686° N, 115.1408° W\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a luxurious feel, featuring a casino, a pool, and several dining options.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/content/dam/cirque/images/hero-images/circus-circus-hero-image.jpg\",\n      \"geoCoordinates\": \"36.1026° N, 115.1733° W\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, offering affordable rooms, a casino, and a variety of entertainment options.\"\n    },\n    {\n      \"hotelName\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$60 - $120 per night\",\n      \"hotelImageUrl\": \"https://www.thestrat.com/content/dam/thestrat/images/hero-images/strat-hotel-hero.jpg\",\n      \"geoCoordinates\": \"36.1068° N, 115.1738° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A tall hotel with a unique observation deck, offering affordable rooms, a casino, and a variety of dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"time\": \"10:00 AM - 1:00 PM\",\n          \"placeDetails\": \"Walk the pedestrian-only Fremont Street, enjoy the vibrant atmosphere, and catch a free light show.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2017/10/Fremont-Street-Experience-Las-Vegas-1.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1422° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"placeName\": \"The Mob Museum\",\n          \"time\": \"1:00 PM - 3:00 PM\",\n          \"placeDetails\": \"Learn about the history of organized crime in Las Vegas.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/wp-content/uploads/2017/04/Mob-Museum-Entrance-2-1-1200x800.jpg\",\n          \"geoCoordinates\": \"36.1683° N, 115.1391° W\",\n          \"ticketPricing\": \"$29.95 for adults\",\n          \"timeToTravel\": \"15 minutes\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"time\": \"3:00 PM - 5:00 PM\",\n          \"placeDetails\": \"Browse unique shops, enjoy live music, and grab a bite to eat.\",\n          \"placeImageUrl\": \"https://www.containerpark.com/wp-content/uploads/2014/01/containerpark-night-1.jpg\",\n          \"geoCoordinates\": \"36.1671° N, 115.1386° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"10 minutes\"\n        },\n        {\n          \"placeName\": \"The Neon Museum\",\n          \"time\": \"5:00 PM - 7:00 PM\",\n          \"placeDetails\": \"Explore a collection of iconic Las Vegas neon signs.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2019/05/Neon-Museum-Las-Vegas-Sign-Park-Aerial-1.jpg\",\n          \"geoCoordinates\": \"36.1646° N, 115.1375° W\",\n          \"ticketPricing\": \"$25 for adults\",\n          \"timeToTravel\": \"15 minutes\"\n        },\n        {\n          \"placeName\": \"Dinner at a local diner\",\n          \"time\": \"7:00 PM - 8:00 PM\",\n          \"placeDetails\": \"Enjoy a classic American meal at a budget-friendly restaurant.\",\n          \"placeImageUrl\": \"https://www.thelasvegashotels.com/wp-content/uploads/2023/01/Downtown-Las-Vegas-Diner.jpg\",\n          \"geoCoordinates\": \"36.1705° N, 115.1416° W\",\n          \"ticketPricing\": \"Varies by restaurant\",\n          \"timeToTravel\": \"10 minutes\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      {\n        \"placeName\": \"The Strip\",\n        \"time\": \"10:00 AM - 1:00 PM\",\n        \"placeDetails\": \"Walk the famous Las Vegas Strip, admire the grand hotels, and soak in the vibrant atmosphere.\",\n        \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2017/09/The-Strip-Las-Vegas-5.jpg\",\n        \"geoCoordinates\": \"36.1147° N, 115.1732° W\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"time\": \"1:00 PM - 2:00 PM\",\n          \"placeDetails\": \"Catch a free water show with music and lights.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/hero-images/fountains/fountain-shows-hero.jpg\",\n          \"geoCoordinates\": \"36.1157° N, 115.1729° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"10 minutes\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"placeDetails\": \"Enjoy a casual outdoor shopping and dining experience.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/linq/hero-images/linq-promenade-hero.jpg\",\n          \"geoCoordinates\": \"36.1176° N, 115.1724° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"10 minutes\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"time\": \"4:00 PM - 5:00 PM\",\n          \"placeDetails\": \"Enjoy breathtaking panoramic views of Las Vegas from the world's tallest observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/linq/hero-images/high-roller-hero.jpg\",\n          \"geoCoordinates\": \"36.1179° N, 115.1722° W\",\n          \"ticketPricing\": \"$30 for adults\",\n          \"timeToTravel\": \"10 minutes\"\n        },\n        {\n          \"placeName\": \"Dinner at a buffet\",\n          \"time\": \"5:00 PM - 6:00 PM\",\n          \"placeDetails\": \"Enjoy a delicious and affordable all-you-can-eat meal at a buffet.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/linq/images/linq-hotel/linq-hotel-restaurants/bacchanal-buffet.jpg\",\n          \"geoCoordinates\": \"36.1176° N, 115.1724° W\",\n          \"ticketPricing\": \"Varies by buffet\",\n          \"timeToTravel\": \"10 minutes\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeDetails\": \"Explore the scenic beauty of Red Rock Canyon, enjoy hiking trails, and take in the stunning views.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/RedRockCanyon-7841_20161219_1119-32152.jpg\",\n          \"geoCoordinates\": \"36.1542° N, 115.2542° W\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"time\": \"1:00 PM - 4:00 PM\",\n          \"placeDetails\": \"Visit the iconic Hoover Dam, learn about its history, and take a tour.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hdam/learn/historyculture/images/20170508_Hoover_Dam_Aerial_1.jpg\",\n          \"geoCoordinates\": \"36.0385° N, 114.9400° W\",\n          \"ticketPricing\": \"Free to walk around, tours are available for a fee\",\n          \"timeToTravel\": \"1 hour 30 minutes\"\n        },\n        {\n          \"placeName\": \"Dinner at a local restaurant\",\n          \"time\": \"5:00 PM - 6:00 PM\",\n          \"placeDetails\": \"Enjoy a final meal in Las Vegas at a budget-friendly restaurant.\",\n          \"placeImageUrl\": \"https://www.thelasvegashotels.com/wp-content/uploads/2023/01/Downtown-Las-Vegas-Restaurant.jpg\",\n          \"geoCoordinates\": \"36.1705° N, 115.1416° W\",\n          \"ticketPricing\": \"Varies by restaurant\",\n          \"timeToTravel\": \"10 minutes\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is a suggestion and can be customized based on your interests and preferences.\n* Hotel prices are approximate and may vary depending on the time of year and availability.\n* Ticket prices are subject to change.\n* The time to travel between locations is an estimate and may vary depending on traffic conditions.\n* Consider using public transportation or ride-sharing services to save on parking and fuel costs.\n* Look for free activities and attractions to help stretch your budget.\n* Take advantage of happy hour deals and drink specials.\n* Bring your own snacks and drinks to save money.\n* Pack light to avoid baggage fees.\n* Have fun and enjoy your trip! \n"},
          ],
        },
      ],
    });
  